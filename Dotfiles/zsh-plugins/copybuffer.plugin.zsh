# copy the active line from the command line buffer 
# onto the system clipboard

copybuffer () {
  if which xclip &>/dev/null; then
    printf "%s" "$BUFFER" | xclip -sel clip
  else
    zle -M "clipcopy not found. Please make sure you have Oh My Zsh installed correctly."
  fi
}

zle -N copybuffer

bindkey -M emacs "^O" copybuffer
bindkey -M viins "^O" copybuffer
bindkey -M vicmd "^O" copybuffer
